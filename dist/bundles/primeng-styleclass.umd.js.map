{"version":3,"file":"primeng-styleclass.umd.js","sources":["../../src/app/components/styleclass/styleclass.ts","../../src/app/components/styleclass/primeng-styleclass.ts"],"sourcesContent":["import { CommonModule} from '@angular/common';\r\nimport { NgModule, Directive, ElementRef, Input, Renderer2, OnDestroy, AfterViewInit } from '@angular/core';\r\nimport { DomHandler } from 'primeng/dom';\r\n\r\n@Directive({\r\n    selector: '[pStyleClass]'\r\n})\r\nexport class StyleClass implements AfterViewInit, OnDestroy {\r\n\r\n    constructor(public el: ElementRef, public renderer: Renderer2) {}\r\n\r\n    @Input('pStyleClass') selector: string;\r\n\r\n    @Input() enterClass: string;\r\n\r\n    @Input() enterActiveClass: string;\r\n\r\n    @Input() enterToClass: string;\r\n\r\n    @Input() leaveClass: string;\r\n\r\n    @Input() leaveActiveClass: string;\r\n\r\n    @Input() leaveToClass: string;\r\n\r\n    @Input() hideOnOutsideClick: boolean;\r\n\r\n    @Input() toggleClass: string;\r\n\r\n    eventListener: Function;\r\n\r\n    documentListener: Function;\r\n\r\n    target: HTMLElement;\r\n\r\n    enterListener: Function;\r\n\r\n    leaveListener: Function;\r\n\r\n    animating: boolean;\r\n\r\n    ngAfterViewInit() {\r\n        this.eventListener = this.renderer.listen(this.el.nativeElement, 'click', () => {\r\n            this.target = this.resolveTarget();\r\n\r\n            if (this.toggleClass) {\r\n                if (DomHandler.hasClass(this.target, this.toggleClass))\r\n                    DomHandler.removeClass(this.target, this.toggleClass);\r\n                else\r\n                    DomHandler.addClass(this.target, this.toggleClass);\r\n            }\r\n            else {\r\n                if (this.target.offsetParent === null)\r\n                    this.enter();\r\n                else\r\n                    this.leave();\r\n            }\r\n        });\r\n    }\r\n\r\n    enter() {\r\n        if (this.enterActiveClass) {\r\n            if (!this.animating) {\r\n                this.animating = true;\r\n\r\n                if (this.enterActiveClass === 'slidedown') {\r\n                    this.target.style.height = '0px';\r\n                    DomHandler.removeClass(this.target, 'hidden');\r\n                    this.target.style.maxHeight = this.target.scrollHeight + 'px';\r\n                    DomHandler.addClass(this.target, 'hidden');\r\n                    this.target.style.height = '';\r\n                }\r\n\r\n                DomHandler.addClass(this.target, this.enterActiveClass);\r\n                if (this.enterClass) {\r\n                    DomHandler.removeClass(this.target, this.enterClass);\r\n                }\r\n\r\n                this.enterListener = this.renderer.listen(this.target, 'animationend', () => {\r\n                    DomHandler.removeClass(this.target, this.enterActiveClass);\r\n                    if (this.enterToClass) {\r\n                        DomHandler.addClass(this.target, this.enterToClass);\r\n                    }\r\n                    this.enterListener();\r\n\r\n                    if (this.enterActiveClass === 'slidedown') {\r\n                        this.target.style.maxHeight = '';\r\n                    }\r\n                    this.animating = false;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this.enterClass) {\r\n                DomHandler.removeClass(this.target, this.enterClass);\r\n            }\r\n\r\n            if (this.enterToClass) {\r\n                DomHandler.addClass(this.target, this.enterToClass);\r\n            }\r\n        }\r\n\r\n        if (this.hideOnOutsideClick) {\r\n            this.bindDocumentListener();\r\n        }\r\n    }\r\n\r\n    leave() {\r\n        if (this.leaveActiveClass) {\r\n            if (!this.animating) {\r\n                this.animating = true;\r\n                DomHandler.addClass(this.target, this.leaveActiveClass);\r\n                if (this.leaveClass) {\r\n                    DomHandler.removeClass(this.target, this.leaveClass);\r\n                }\r\n\r\n                this.leaveListener = this.renderer.listen(this.target, 'animationend', () => {\r\n                    DomHandler.removeClass(this.target, this.leaveActiveClass);\r\n                    if (this.leaveToClass) {\r\n                        DomHandler.addClass(this.target, this.leaveToClass);\r\n                    }\r\n                    this.leaveListener();\r\n                    this.animating = false;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (this.leaveClass) {\r\n                DomHandler.removeClass(this.target, this.leaveClass);\r\n            }\r\n\r\n            if (this.leaveToClass) {\r\n                DomHandler.addClass(this.target, this.leaveToClass);\r\n            }\r\n        }\r\n\r\n        if (this.hideOnOutsideClick) {\r\n            this.unbindDocumentListener();\r\n        }\r\n    }\r\n\r\n    resolveTarget() {\r\n        if (this.target) {\r\n            return this.target;\r\n        }\r\n\r\n        switch (this.selector) {\r\n            case '@next':\r\n                return this.el.nativeElement.nextElementSibling;\r\n\r\n            case '@prev':\r\n                return this.el.nativeElement.previousElementSibling;\r\n\r\n            case '@parent':\r\n                return this.el.nativeElement.parentElement;\r\n\r\n            case '@grandparent':\r\n                return this.el.nativeElement.parentElement.parentElement;\r\n\r\n            default:\r\n                return document.querySelector(this.selector);\r\n        }\r\n    }\r\n\r\n    bindDocumentListener() {\r\n        if (!this.documentListener) {\r\n            this.documentListener = this.renderer.listen(this.el.nativeElement.ownerDocument, 'click', event => {\r\n                if (getComputedStyle(this.target).getPropertyValue('position') === 'static') {\r\n                    this.unbindDocumentListener();\r\n                }\r\n                else  if (!this.el.nativeElement.isSameNode(event.target) && !this.el.nativeElement.contains(event.target) && !this.target.contains(event.target)) {\r\n                    this.leave();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    unbindDocumentListener() {\r\n        if (this.documentListener) {\r\n            this.documentListener();\r\n            this.documentListener = null;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.target = null;\r\n        if (this.eventListener) {\r\n            this.eventListener();\r\n        }\r\n        this.unbindDocumentListener();\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [StyleClass],\r\n    declarations: [StyleClass]\r\n})\r\nexport class StyleClassModule { }","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["DomHandler","Directive","ElementRef","Renderer2","Input","NgModule","CommonModule"],"mappings":"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"}